# Hoja de Ruta - Proyecto Árboles

**Última actualización**: 2025-12-04
**Estado**: [x] Fase 1 COMPLETADA | [x] Fase 2 COMPLETADA | [x] Fase 3 COMPLETADA

 **DEADLINE: 8 DE DICIEMBRE 2025** 

---

## REQUISITOS ACADÉMICOS

### [PGV] Backend

**Noviembre**:
- [x] 2 endpoints con relación 1:N (GET, POST, PUT, DELETE)
- [x] Validaciones de datos

**Diciembre** (si da tiempo):
- [ ] 2-3 endpoints con relación N:M (GET, POST, PUT, DELETE)

---

### [DAD] Frontend React

**Estructura:**
- [x] Componentes organizados y reutilizables
- [x] React Router Dom
- [x] Login + Register (aunque no sean funcionales)
- [ ] Mínimo 4 ventanas (sin contar login/register)

**Consumo API:**
- [ ] Tantos CRUD como sean necesarios

**Diseño:**
- [x] Estilización (Tailwind o similar)
- [ ] Formularios con validaciones (Login/Register listos)
- [x] Navegación clara (menú, cabecera)

**Requisitos funcionales/no funcionales:**
- [ ] Responsive (parcial)
- [x] Login/Register con persistencia (LocalStorage/SessionStorage/Cookies)
- [ ] Desplegar en Vercel
- [x] Navegación dinámica
- [ ] Gestión de CRUD establecidos
- [ ] Establecer roles (mock básico implementado)
- [ ] Feedback al usuario (mensajes éxito/error en forms)

---

### [AED] Acceso a Datos

- [x] Diseño esquema E/R
- [x] Transformación E/R → UML
- [x] Transformación UML → Relacional
- [x] Mapeo objeto-relacional (ORM)
- [x] Mínimo 2 entidades con 1 relación (HECHO: 4 entidades)
- [x] Documentación del modelo de datos
- [x] Gestor de tareas Git
- [ ] Manual de instalación
- [ ] Manual de usuario
- [ ] Visualización frontend de datos BD

---

### [PGL] Android

- [ ] Mínimo 4 actividades
- [ ] Listar árboles por centro educativo
- [ ] Visualizar detalles del árbol con datos tiempo-real (simulados)
- [ ] Modificar datos del árbol
- [ ] Eliminar árbol

---

## FASES

### Fase 0: Configuración Inicial [x]

- [x] Java 21, Maven, PostgreSQL 16, Node.js, Android Studio
- [x] Repositorio Git
- [x] Base de datos `proyecto_arboles`
- [x] Documentación modelo de datos

---

### Fase 1: Backend - Modelo de Datos [x]

- [x] Proyecto Spring Boot
- [x] Entidades JPA: Usuario, CentroEducativo, Arbol, DispositivoEsp32
- [x] Repositorios JPA
- [x] Relación 1:N: CentroEducativo → Arbol
- [x] Relación 1:1: Arbol ↔ DispositivoEsp32

---

### Fase 2: Backend - Endpoints 1:N [x] 100% COMPLETADO

- [x] **2.1** Validaciones en entidades [x] COMPLETO
  - [x] Arbol: @NotBlank, @Past, @DecimalMin/@Max
  - [x] Arbol: @Valid en controller (POST y PUT)
  - [x] CentroEducativo: @NotBlank, @NotNull

- [x] **2.2** ArbolController [x] COMPLETO
  - [x] GET /api/arboles
  - [x] GET /api/arboles/{id}
  - [x] POST /api/arboles (con @Valid)
  - [x] PUT /api/arboles/{id} (con @Valid)
  - [x] DELETE /api/arboles/{id}
  - [x] Endpoints adicionales (por centro, especie, búsqueda)

- [x] **2.3** CentroEducativoController [x] COMPLETO
  - [x] GET /api/centros
  - [x] GET /api/centros/{id}
  - [x] POST /api/centros (con @Valid)
  - [x] PUT /api/centros/{id} (con @Valid)
  - [x] DELETE /api/centros/{id}
  - [x] GET /api/centros/{id}/arboles (relación 1:N)

- [x] **2.4** Evitar loops JSON [x] COMPLETO
  - [x] @JsonIgnore en List<Arbol> de CentroEducativo

- [x] **2.5** Testing Postman [x] COMPLETO
  - [x] Probar endpoints de Arboles (CRUD completo)
  - [x] Probar endpoints de Centros (CRUD completo)
  - [x] Probar relación 1:N (GET /api/centros/{id}/arboles)
  - [x] Validaciones: nombre vacío (400)
  - [x] Validaciones: duplicados (409)
  - [x] Validaciones: fecha futura @Past (400)

---

### Fase 3: Frontend - Estructura [x] 100% COMPLETADO

- [x] **3.1** Configurar React [x] COMPLETO
  - [x] Proyecto React con Vite ya estaba creado
  - [x] Tailwind CSS v3 instalado y configurado
  - [x] Estructura de carpetas creada
  - [x] Variables de entorno (.env, .env.example)

- [x] **3.2** React Router Dom [x] COMPLETO
  - [x] React Router Dom ya estaba instalado
  - [x] Estructura de rutas básica implementada
  - [x] Rutas placeholder (login, dashboard, 404)

- [x] **3.3** Axios [x] COMPLETO
  - [x] Instalado axios
  - [x] api.js con baseURL y configuración
  - [x] Interceptors configurados (request/response)

- [x] **3.4** Context de autenticación [x] COMPLETO
  - [x] AuthContext.jsx
  - [x] Gestión de roles (mock)
  - [x] Persistencia con localStorage

- [x] **3.5** Layout responsive [x] COMPLETO
  - [x] Header.jsx (responsive)
  - [x] MainLayout.jsx
  - [x] ProtectedRoute.jsx

- [x] **3.6** Login.jsx [x] COMPLETO
  - [x] Formulario email/password
  - [x] Persistencia localStorage
  - [x] Validaciones
  - [x] Feedback (mensajes éxito/error)

- [x] **3.7** Register.jsx [x] COMPLETO
  - [x] Formulario
  - [x] Validaciones
  - [x] Feedback (mensajes éxito/error)

- [x] **3.8** Dashboard.jsx [x] COMPLETO
  - [x] Bienvenida personalizada
  - [x] Tarjetas de acceso rápido (Árboles, Centros)
  - [x] Responsive

---

### Fase 4: Frontend - CRUD Árboles

- [x] **4.1** Servicios API [x] COMPLETO
  - [x] arbolesService.js (CRUD completo + búsqueda + filtros)
  - [x] centrosService.js (CRUD completo + relación con árboles)
  - [x] Manejo de errores con try/catch y feedback

- [x] **4.2** Componentes comunes [x] COMPLETO
  - [x] Button.jsx (reutilizable con variantes)
  - [x] Input.jsx (reutilizable con validaciones)
  - [x] Alert.jsx (mensajes éxito/error/warning/info)
  - [x] Spinner.jsx (loading con diferentes tamaños)

- [x] **4.3** ListadoArboles.jsx [x] COMPLETO
  - [x] Tabla/grid responsive (desktop y mobile)
  - [x] Botón añadir árbol
  - [x] Filtro por centro con dropdown
  - [x] Feedback (Spinner loading, Alert errores)
  - [x] Navegación al detalle (click en fila)

- [ ] **4.4** DetalleArbol.jsx
  - [ ] Datos del árbol
  - [ ] Botones editar/eliminar
  - [ ] Responsive
  - [ ] Feedback

- [ ] **4.5** FormularioArbol.jsx
  - [ ] Crear/editar
  - [ ] Validaciones completas
  - [ ] Feedback (éxito/error)
  - [ ] Responsive

- [ ] **4.6** Rutas
  - [ ] /arboles
  - [ ] /arboles/nuevo
  - [ ] /arboles/:id
  - [ ] /arboles/:id/editar

- [ ] **4.7** Testing y despliegue
  - [ ] Probar CRUD completo
  - [ ] Verificar responsive
  - [ ] Preparar para Vercel

---

### Fase 5: Android - CRUD Árboles

- [ ] **5.1** Configurar Android
  - [ ] Retrofit, Gson
  - [ ] Permisos INTERNET

- [ ] **5.2** Retrofit
  - [ ] ApiClient.java
  - [ ] ApiService.java

- [ ] **5.3** Modelos
  - [ ] Arbol.java
  - [ ] Centro.java

- [ ] **5.4** LoginActivity
  - [ ] Layout
  - [ ] Mock login

- [ ] **5.5** ListadoArbolesActivity
  - [ ] RecyclerView
  - [ ] Filtro por centro

- [ ] **5.6** DetalleArbolActivity
  - [ ] Datos árbol
  - [ ] Datos simulados (temperatura, humedad)

- [ ] **5.7** EditarArbolActivity
  - [ ] Formulario
  - [ ] Validaciones

---

### Fase 6: Documentación

- [ ] **6.1** Manual de instalación
  - [ ] Requisitos
  - [ ] Backend
  - [ ] Frontend
  - [ ] Android
  - [ ] Base de datos

- [ ] **6.2** Manual de usuario
  - [ ] Web
  - [ ] Android
  - [ ] Capturas

---

## [ ] OPCIONAL (después del 8 dic)

### Fase 7: Endpoints N:M
- Usuario ↔ CentroEducativo
- GET, POST, PUT, DELETE

### Fase 8: Mejoras
- Sistema lecturas TimescaleDB
- Sistema alertas
- ESP32
