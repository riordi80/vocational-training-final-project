# Proyecto Árboles - Especificación Técnica

## 1. Descripción General del Proyecto

Sistema de monitorización y gestión de árboles plantados en centros educativos mediante sensores IoT. El proyecto permite recopilar datos ambientales (temperatura, humedad del suelo, pH, nivel de agua) a través de dispositivos ESP32 y visualizarlos en tiempo real mediante aplicaciones web y móvil.

### 1.1 Objetivos

- Monitorizar el estado de los árboles en tiempo real
- Almacenar histórico de datos ambientales
- Generar alertas cuando los valores estén fuera de rango
- Proporcionar interfaces web y móvil para consulta y gestión
- Facilitar el seguimiento educativo del crecimiento de los árboles

### 1.2 Alcance

El sistema contempla:
- Gestión de múltiples centros educativos
- Gestión de múltiples árboles por centro
- Sistema de usuarios con diferentes roles
- Ingesta de datos desde sensores ESP32
- Almacenamiento de series temporales
- Visualización de datos históricos y en tiempo real
- Sistema de alertas y notificaciones

---

## 2. Arquitectura del Sistema

### 2.1 Componentes Principales

#### 2.1.1 ESP32 + Sensores (Hardware IoT)
- **Tecnología**: ESP32 con firmware en C/C++
- **IDE**: Arduino IDE / PlatformIO
- **Conectividad**: WiFi
- **Sensores**:
  - Temperatura ambiente/suelo
  - Humedad del suelo
  - pH del suelo
  - Nivel de agua
- **Frecuencia de medición**: 15-30 minutos
- **Protocolo de comunicación**: HTTP/HTTPS REST o MQTT (a definir)

#### 2.1.2 Backend (API REST)
- **Framework**: Spring Boot (Java)
- **Funciones**:
  - Autenticación y autorización (JWT)
  - Recepción de datos de sensores
  - API REST para frontend y mobile
  - Lógica de negocio y validación
  - Sistema de alertas
  - Gestión de usuarios, centros y árboles

#### 2.1.3 Base de Datos
- **Motor**: PostgreSQL + TimescaleDB
- **Esquemas**:
  - Datos relacionales: usuarios, roles, centros educativos, árboles
  - Series temporales: lecturas de sensores (TimescaleDB)
- **Políticas de retención**: Configurable (a definir por usuario o por defecto)
- **Optimizaciones**: Índices, compresión automática de datos antiguos

#### 2.1.4 Frontend Web
- **Framework**: React (JavaScript/TypeScript)
- **Funcionalidades**:
  - Dashboard con visualización de datos
  - Gráficas históricas
  - Gestión de centros y árboles
  - Gestión de usuarios
  - Configuración de alertas
  - Visualización de notificaciones

#### 2.1.5 Aplicación Móvil
- **Plataforma**: Android
- **Lenguaje**: Java
- **IDE**: Android Studio
- **Funcionalidades**: Mismas que frontend web
  - Dashboard móvil
  - Visualización de datos en tiempo real
  - Historial de mediciones
  - Notificaciones push
  - Gestión de árboles y centros

### 2.2 Infraestructura

#### 2.2.1 Despliegue
- **Hosting**: VPS (Virtual Private Server)
- **Componentes desplegados**:
  - Backend Spring Boot (puerto 8080 o similar)
  - PostgreSQL + TimescaleDB
  - Frontend React (servido por Nginx/Apache o similar)
- **Seguridad**:
  - HTTPS con certificado SSL/TLS
  - Firewall configurado
  - Backups automáticos de base de datos

#### 2.2.2 Comunicación entre Componentes
- **ESP32 → Backend**: HTTP POST/MQTT (WiFi)
- **Frontend Web → Backend**: HTTP REST API (HTTPS)
- **App Android → Backend**: HTTP REST API (HTTPS)
- **Backend → Base de Datos**: JDBC (PostgreSQL)

---

## 3. Modelo de Datos

### 3.1 Entidades Principales

#### 3.1.1 Usuario
- ID
- Nombre
- Email
- Contraseña (hash)
- Rol (Admin, Profesor, Estudiante, Invitado)
- Fecha de creación
- Estado (activo/inactivo)
- **Nota**: Los usuarios pueden tener acceso a múltiples centros (relación N:M)

#### 3.1.2 Centro Educativo
- ID
- Nombre
- Dirección
- Coordenadas geográficas (opcional)
- Responsable
- Fecha de creación

#### 3.1.3 Árbol
- ID
- Centro educativo (FK)
- Nombre/identificador
- Especie
- Fecha de plantación
- Ubicación específica
- Dispositivo ESP32 asociado
- Umbrales de alerta (temperatura, humedad, pH, nivel agua)

#### 3.1.4 Dispositivo ESP32
- ID único (MAC address o similar)
- Árbol asignado (FK)
- Estado (activo/inactivo)
- Última conexión
- Configuración (frecuencia de envío, etc.)

#### 3.1.5 Lectura de Sensor (Serie Temporal - TimescaleDB)
- Timestamp
- Dispositivo ESP32 (FK)
- Árbol (FK)
- Temperatura (°C)
- Humedad del suelo (%)
- pH
- Nivel de agua (%)

#### 3.1.6 Alerta
- ID
- Árbol (FK)
- Tipo de alerta (temperatura alta/baja, humedad baja, pH fuera de rango, etc.)
- Timestamp
- Estado (activa/resuelta)
- Mensaje

#### 3.1.7 Notificación
- ID
- Usuario (FK)
- Alerta (FK)
- Leída (sí/no)
- Timestamp

#### 3.1.8 Usuario_Centro (Tabla intermedia - Relación N:M)
- ID
- Usuario (FK)
- Centro (FK)
- Fecha de asignación
- Rol en el centro (puede diferir del rol global)
- Estado (activo/inactivo)

### 3.2 Relaciones

#### 3.2.1 Relaciones 1:N (Uno a Muchos)

- Un Centro tiene muchos Árboles
- Un Árbol tiene un Dispositivo ESP32
- Un Dispositivo ESP32 genera muchas Lecturas
- Un Árbol puede generar muchas Alertas
- Una Alerta puede generar muchas Notificaciones (a diferentes usuarios)

#### 3.2.2 Relaciones N:M (Muchos a Muchos)

- **Usuarios ↔ Centros**: Un usuario puede tener acceso a múltiples centros educativos, y un centro puede tener múltiples usuarios (profesores, estudiantes, etc.)
  - Tabla intermedia: `Usuario_Centro`
  - Casos de uso:
    - Profesor que imparte clases en varios centros
    - Estudiante que cambia de centro pero mantiene acceso histórico
    - Administrador con acceso a todos los centros
    - Coordinador que supervisa múltiples centros

---

## 4. Funcionalidades por Rol

### 4.1 Administrador
- Gestión completa de usuarios
- Gestión de centros educativos
- Gestión de árboles y dispositivos
- Acceso a todos los datos de todos los centros
- Configuración del sistema
- Gestión de alertas globales

### 4.2 Profesor
- Gestión de árboles de su centro
- Visualización de datos de su centro
- Configuración de alertas para su centro
- Gestión de estudiantes de su centro
- Exportación de datos (CSV, PDF)

### 4.3 Estudiante
- Visualización de datos de árboles de su centro
- Consulta de históricos
- Recepción de notificaciones educativas
- Dashboard de lectura (sin permisos de escritura)

### 4.4 Invitado
- Visualización limitada de datos públicos
- Dashboard de solo lectura
- Sin acceso a gestión ni configuración

---

## 5. Sistema de Alertas

### 5.1 Tipos de Alertas

1. **Temperatura fuera de rango**
   - Temperatura muy alta (>umbral configurado)
   - Temperatura muy baja (<umbral configurado)

2. **Humedad del suelo baja**
   - Cuando humedad < umbral (ej: <30%)

3. **pH fuera de rango**
   - pH no óptimo para la especie

4. **Nivel de agua bajo**
   - Sistema de riego necesita recarga

5. **Dispositivo desconectado**
   - ESP32 sin enviar datos durante X tiempo

### 5.2 Canales de Notificación

- Notificaciones in-app (web y móvil)
- Email (opcional, a configurar)
- Push notifications (app móvil)

---

## 6. API REST - Endpoints Principales

### 6.1 Autenticación
- `POST /api/auth/login` - Login de usuario
- `POST /api/auth/register` - Registro (si aplicable)
- `POST /api/auth/logout` - Logout
- `GET /api/auth/me` - Obtener usuario actual

### 6.2 Usuarios
- `GET /api/users` - Listar usuarios
- `GET /api/users/{id}` - Obtener usuario
- `POST /api/users` - Crear usuario
- `PUT /api/users/{id}` - Actualizar usuario
- `DELETE /api/users/{id}` - Eliminar usuario

### 6.3 Centros Educativos
- `GET /api/centros` - Listar centros
- `GET /api/centros/{id}` - Obtener centro
- `POST /api/centros` - Crear centro
- `PUT /api/centros/{id}` - Actualizar centro
- `DELETE /api/centros/{id}` - Eliminar centro

### 6.4 Árboles
- `GET /api/arboles` - Listar árboles (filtrable por centro)
- `GET /api/arboles/{id}` - Obtener árbol
- `POST /api/arboles` - Crear árbol
- `PUT /api/arboles/{id}` - Actualizar árbol
- `DELETE /api/arboles/{id}` - Eliminar árbol
- `GET /api/arboles/{id}/lecturas` - Obtener lecturas del árbol

### 6.5 Dispositivos ESP32
- `GET /api/dispositivos` - Listar dispositivos
- `GET /api/dispositivos/{id}` - Obtener dispositivo
- `POST /api/dispositivos` - Registrar dispositivo
- `PUT /api/dispositivos/{id}` - Actualizar configuración
- `POST /api/dispositivos/{id}/lecturas` - Enviar lectura (endpoint usado por ESP32)

### 6.6 Lecturas/Mediciones
- `GET /api/lecturas` - Listar lecturas (filtros: árbol, fecha, tipo)
- `GET /api/lecturas/ultimas/{arbolId}` - Última lectura de un árbol
- `GET /api/lecturas/historico/{arbolId}` - Histórico con agregaciones (hora/día/mes)

### 6.7 Alertas
- `GET /api/alertas` - Listar alertas
- `GET /api/alertas/{id}` - Obtener alerta
- `PUT /api/alertas/{id}/resolver` - Marcar alerta como resuelta
- `GET /api/alertas/activas` - Alertas activas

### 6.8 Notificaciones
- `GET /api/notificaciones` - Listar notificaciones del usuario
- `PUT /api/notificaciones/{id}/leer` - Marcar como leída
- `PUT /api/notificaciones/leer-todas` - Marcar todas como leídas

### 6.9 Usuario_Centro (Relación N:M) - Requisito PGV Diciembre
- `GET /api/usuarios/{userId}/centros` - Listar centros de un usuario
- `GET /api/centros/{centroId}/usuarios` - Listar usuarios de un centro
- `POST /api/usuarios/{userId}/centros/{centroId}` - Asignar usuario a centro
- `PUT /api/usuarios/{userId}/centros/{centroId}` - Actualizar rol del usuario en el centro
- `DELETE /api/usuarios/{userId}/centros/{centroId}` - Eliminar asignación usuario-centro
- `GET /api/usuario-centro` - Listar todas las asignaciones (Admin)
- `GET /api/usuario-centro/{id}` - Obtener detalles de una asignación específica

---

## 7. Seguridad

### 7.1 Autenticación y Autorización
- **JWT (JSON Web Tokens)** para autenticación stateless
- **Roles y permisos** implementados con Spring Security
- **Tokens de expiración** configurable
- **Refresh tokens** para renovación

### 7.2 Comunicación
- **HTTPS** obligatorio en producción
- **CORS** configurado para permitir solo dominios autorizados
- **Rate limiting** para prevenir abusos

### 7.3 Base de Datos
- **Contraseñas hasheadas** con BCrypt
- **Preparadas statements** para prevenir SQL injection
- **Backups automáticos** diarios

### 7.4 ESP32
- **API Key o token** para autenticar dispositivos
- **Validación de datos** en backend
- **Lista blanca de MACs** autorizadas (opcional)

---

## 8. Especificación Detallada por Plataforma

### 8.1 Frontend Web React - Requisitos DAD

#### 8.1.1 Estructura del Proyecto
- **Componentes organizados y reutilizables**: Uso de componentes funcionales con hooks
- **Enrutamiento**: React Router DOM para navegación entre vistas
- **Estado global**: Context API o Redux (a definir)
- **Estilización**: CSS Modules, Tailwind CSS o styled-components (a elegir)

#### 8.1.2 Ventanas/Vistas Principales (Mínimo 6 + Login/Register)

1. **Login** (`/login`)
   - Formulario de autenticación
   - Validación de email y contraseña
   - Mensaje de error en caso de credenciales incorrectas
   - Link a registro

2. **Register** (`/register`)
   - Formulario de registro de usuario
   - Validación de campos (email, contraseña, confirmación, etc.)
   - Selección de rol (si aplicable)
   - Registro exitoso redirige a login

3. **Dashboard Principal** (`/dashboard`)
   - Resumen general del sistema
   - Tarjetas con estadísticas: total de árboles, alertas activas, centros
   - Gráfica de resumen de lecturas recientes
   - Acceso rápido a secciones principales
   - Navegación clara con menú lateral o superior

4. **Listado de Árboles** (`/arboles`)
   - Tabla/Grid con todos los árboles (filtrable por centro)
   - Búsqueda y filtros
   - Indicador visual de estado (alertas activas)
   - Botón para añadir nuevo árbol (Admin/Profesor)
   - Click en árbol lleva a vista de detalle
   - **CRUD completo** (requisito DAD)

5. **Detalle de Árbol** (`/arboles/:id`)
   - Información del árbol (especie, fecha plantación, ubicación)
   - Datos en tiempo real: temperatura, humedad, pH, nivel agua
   - Gráficas históricas (últimas 24h, 7 días, 30 días)
   - Historial de alertas
   - Botones de edición y eliminación (según permisos)

6. **Gestión de Centros Educativos** (`/centros`)
   - Listado de centros (Admin/Profesor)
   - CRUD de centros
   - Asignación de usuarios a centros
   - Vista de árboles por centro

7. **Gestión de Usuarios** (`/usuarios`)
   - Listado de usuarios (Admin)
   - Creación, edición y eliminación de usuarios
   - Asignación de roles
   - Asignación de centros a usuarios (relación N:M)

8. **Configuración de Alertas** (`/alertas`)
   - Configuración de umbrales por árbol
   - Histórico de alertas
   - Marcar alertas como resueltas
   - Configuración de notificaciones

#### 8.1.3 Características de Interfaz (Requisito DAD)
- **Formularios funcionales**: Todos los formularios con validación client-side
- **Validaciones**: Email, campos requeridos, rangos numéricos, etc.
- **Navegación clara**: Menú lateral/superior, breadcrumbs
- **Cabecera**: Logo, nombre de usuario, notificaciones, logout
- **Responsive**: Adaptable a diferentes tamaños de pantalla
- **Feedback visual**: Loading states, mensajes de éxito/error, confirmaciones

### 8.2 Aplicación Android - Requisitos PGL

#### 8.2.1 Actividades Principales (Mínimo 4)

1. **MainActivity / LoginActivity**
   - Pantalla de inicio con login
   - Autenticación con backend (JWT)
   - Validación de credenciales
   - Navegación a la actividad principal tras login exitoso

2. **ListadoArbolesActivity**
   - **Requisito**: Listar árboles plantados con sensor establecido, según el centro educativo
   - RecyclerView con lista de árboles
   - Filtro por centro educativo (Spinner o similar)
   - Cada item muestra: nombre, especie, estado (alertas activas)
   - Click en item abre DetalleArbolActivity
   - FloatingActionButton para añadir árbol (Admin/Profesor)

3. **DetalleArbolActivity**
   - **Requisito**: Visualizar detalles del árbol
   - Información básica: especie, fecha_plantacion, ubicación
   - **Datos en tiempo real**:
     - Humedad del suelo (%)
     - Temperatura (°C)
     - pH
     - Nivel de agua (%)
     - Fecha y hora de la última lectura
   - Gráfica simple de histórico (opcional pero recomendable)
   - Botones: Editar, Eliminar

4. **EditarArbolActivity**
   - **Requisito**: Modificar datos del árbol (excepto datos de sensores)
   - Formulario con campos editables:
     - Nombre/identificador
     - Especie
     - Fecha de plantación
     - Ubicación
     - Umbrales de alerta
   - **Nota**: Los datos de sensores (temperatura, humedad, etc.) NO son editables, solo se visualizan
   - Validación de campos
   - Botón guardar: PUT al backend

5. **Funcionalidad de Eliminación**
   - **Requisito**: Eliminar árbol
   - Diálogo de confirmación antes de eliminar
   - DELETE al backend
   - Volver a ListadoArbolesActivity tras eliminación exitosa

#### 8.2.2 Características Adicionales Android
- **Autenticación**: Manejo de JWT tokens (SharedPreferences)
- **Retrofit**: Para consumo de API REST
- **Notificaciones Push**: Firebase Cloud Messaging para alertas
- **Permisos**: Gestión de permisos según rol de usuario
- **Manejo de errores**: Diálogos informativos, conexión perdida, etc.
- **RecyclerView**: Para listas eficientes
- **Material Design**: Componentes de Material Design 3

---

## 9. Requisitos Académicos por Módulo

### 9.1 [PGV] - Programación de Servicios y Procesos

#### 9.1.1 Noviembre - Relaciones 1:N
**Endpoints con métodos HTTP completos (GET, POST, PUT, DELETE)**

**Opción 1: Centro → Árboles**
- `GET /api/centros/{id}/arboles` - Listar árboles de un centro
- `POST /api/centros/{id}/arboles` - Crear árbol en un centro
- `PUT /api/arboles/{id}` - Actualizar árbol
- `DELETE /api/arboles/{id}` - Eliminar árbol
- **Validaciones**: Nombre de árbol único por centro, fecha de plantación no futura, especie válida, etc.

**Opción 2: Árbol → Lecturas**
- `GET /api/arboles/{id}/lecturas` - Listar lecturas de un árbol
- `POST /api/arboles/{id}/lecturas` - Crear lectura (desde ESP32)
- `PUT /api/lecturas/{id}` - Actualizar lectura (admin)
- `DELETE /api/lecturas/{id}` - Eliminar lectura
- **Validaciones**: Valores de sensores en rangos válidos, timestamp coherente, árbol existente, etc.

#### 9.1.2 Diciembre - Relaciones N:M
**Endpoints para Usuario ↔ Centro (si da tiempo)**

- `GET /api/usuarios/{userId}/centros` - GET: Centros de un usuario
- `POST /api/usuarios/{userId}/centros/{centroId}` - POST: Asignar usuario a centro
- `PUT /api/usuarios/{userId}/centros/{centroId}` - PUT: Actualizar rol en centro
- `DELETE /api/usuarios/{userId}/centros/{centroId}` - DELETE: Eliminar asignación
- **Validaciones**: Usuario y centro existen, no duplicar asignaciones, rol válido, etc.

### 9.2 [DAD] - Desarrollo de Aplicaciones Web

#### Estructura del Proyecto
[x] Componentes organizados y reutilizables
[x] React Router DOM implementado
[x] Login y Register creados (aunque inicialmente no funcionales está OK)
[x] **Mínimo 6 ventanas** sin contar login/register (ver sección 8.1.2)

#### Consumo de API REST
[x] **Mínimo un CRUD completo**: Gestión de Árboles (Create, Read, Update, Delete)

#### Diseño de Interfaz
[x] Estilización coherente con CSS Modules/Tailwind/styled-components
[x] Formularios funcionales con validaciones (client-side)
[x] Navegación clara (menú, cabecera, breadcrumbs)

### 9.3 [AED] - Acceso a Datos

#### Modelo de Datos
[x] **Diagramas** (se crearán documentos independientes):
  - Diagrama Entidad-Relación (E/R)
  - Transformación E/R a UML
  - Transformación UML a Modelo Relacional
[x] **Descripción detallada**: Campos, claves primarias/foráneas, relaciones

#### ORM (Spring Data JPA)
[x] **Mapeo objeto-relacional**: Uso de anotaciones JPA (@Entity, @Table, @Id, etc.)
[x] **Mínimo dos clases de entidad**: Por ejemplo: `Centro`, `Arbol`
[x] **Mínimo una relación mapeada**: Por ejemplo: @OneToMany entre Centro y Arbol

#### Documentación (documentos independientes a crear)
- Descripción del sistema [x] (ver sección 1)
- Documentación ERS y funciones del sistema [x] (ver secciones 4, 5, 6)
- Documentación del modelo de datos [x] (ver sección 3)
- **Manual de instalación** (pendiente documento independiente)
- **Manual de usuario** (pendiente documento independiente)

#### Aplicación
[x] **Visualización en frontend**: Los datos de la BD se muestran en React (Dashboard, listados, gráficas)

#### Gestor de Tareas Git
[x] Uso de Git y control de versiones obligatorio

### 9.4 [PGL] - Programación Multimedia y Dispositivos Móviles

#### Aplicación Android en Java
[x] **Mínimo 4 actividades** (ver sección 8.2.1):
1. LoginActivity
2. ListadoArbolesActivity (listar árboles por centro)
3. DetalleArbolActivity (visualizar detalles + datos en tiempo real)
4. EditarArbolActivity (modificar árbol, sin datos de sensores)
5. Funcionalidad de eliminación de árbol

[x] **Funcionalidades específicas**:
- Listar árboles con sensor, filtrados por centro educativo
- Visualizar detalles: especie, fecha_plantacion, humedad, temperatura, pH, nivel agua, fecha, hora (tiempo real)
- Modificar datos del árbol (excepto datos de sensores)
- Eliminar árbol

---

## 10. Plan de Desarrollo

### 10.1 Fase 1: MVP (Producto Mínimo Viable)
**Componentes:**
- Backend básico con autenticación y CRUD de usuarios, centros y árboles
- Base de datos PostgreSQL con entidades básicas
- Endpoint para recibir lecturas desde ESP32
- Frontend web básico con dashboard simple
- Firmware ESP32 con sensor de temperatura y humedad

**Duración estimada**: 4-6 semanas

### 10.2 Fase 2: Funcionalidades Avanzadas
**Componentes:**
- Integración TimescaleDB para optimización de series temporales
- Sistema de alertas y notificaciones
- Frontend web completo con gráficas históricas
- App Android básica
- Sensores adicionales (pH, nivel de agua)

**Duración estimada**: 4-6 semanas

### 10.3 Fase 3: Refinamiento y Producción
**Componentes:**
- Optimizaciones de rendimiento
- Testing completo (unitario, integración)
- Despliegue en VPS
- Documentación completa
- Configuración de backups y monitoreo

**Duración estimada**: 2-4 semanas

---

## 11. Consideraciones Técnicas Adicionales

### 11.1 Gestión de Energía (ESP32)
- **Modo Deep Sleep**: Activar entre lecturas para ahorrar batería
- **Alimentación**: USB, batería + panel solar, o alimentación continua
- **Indicadores LED**: Para debug y estado (opcional)

### 11.2 Manejo de Errores
- **ESP32**: Reintentos automáticos si falla el envío de datos
- **Backend**: Logging completo de errores
- **Frontend/Mobile**: Mensajes de error user-friendly

### 11.3 Escalabilidad
- **Base de datos**: Índices apropiados y particionado en TimescaleDB
- **Backend**: Stateless para permitir horizontal scaling si fuera necesario
- **Caching**: Redis/Memcached si el tráfico lo requiere (futuro)

### 11.4 Monitorización
- **Logs**: Centralización de logs (opcional: ELK stack, Grafana+Loki)
- **Métricas**: Prometheus + Grafana para monitoreo del sistema (opcional)
- **Uptime**: Monitorización de disponibilidad del servicio

---

## 12. Tecnologías y Herramientas

| Componente | Tecnología | Versión/Notas |
|------------|-----------|---------------|
| **Backend** | Spring Boot | 3.x |
| **Lenguaje Backend** | Java | 21 |
| **Base de Datos** | PostgreSQL | 15+ |
| **Series Temporales** | TimescaleDB | Extensión de PostgreSQL |
| **ORM** | Spring Data JPA | Incluido en Spring Boot |
| **Seguridad** | Spring Security + JWT | - |
| **Frontend** | React | 18+ |
| **Lenguaje Frontend** | JavaScript/TypeScript | - |
| **Build Frontend** | Vite / Create React App | - |
| **Mobile** | Android (Java) | SDK 24+ (Android 7.0+) |
| **IDE Mobile** | Android Studio | Última versión estable |
| **Firmware ESP32** | Arduino IDE / PlatformIO | C/C++ |
| **Microcontrolador** | ESP32 | Variantes compatibles |
| **Control de versiones** | Git | - |
| **Hosting** | VPS | Linux (Ubuntu/Debian) |
| **Servidor Web** | Nginx / Apache | Para servir frontend |
| **Contenedores** | Docker (opcional) | Para facilitar despliegue |

---

## 13. Próximos Pasos

1. **Configurar estructura del proyecto backend** (Spring Boot)
2. **Diseñar esquema de base de datos** detallado
3. **Configurar PostgreSQL + TimescaleDB**
4. **Implementar autenticación y gestión de usuarios**
5. **Desarrollar endpoints básicos de la API**
6. **Desarrollar frontend básico** (login + dashboard)
7. **Desarrollar app Android**
8. **Testing y refinamiento**
9. **Integrar ESP32 con backend**
10. **Crear firmware básico ESP32** (conectividad WiFi + sensor de prueba)
11. **Despliegue en VPS**

---

## 14. Documentación Adicional y Responsables

**Proyecto**: Proyecto Árboles
**Institución**: Centros Educativos
**Repositorio**: (a definir)

### Documentos Adicionales a Crear

Los siguientes documentos se crearán de forma independiente para cumplir con los requisitos del módulo AED:

1. **Diagrama Entidad-Relación (E/R)**
   - Archivo: `DIAGRAMA_ER.md` o similar
   - Contenido: Representación visual del modelo de datos con entidades, atributos y relaciones

2. **Diagrama UML**
   - Archivo: `DIAGRAMA_UML.md` o similar
   - Contenido: Transformación del E/R a UML (clases, atributos, métodos)

3. **Modelo Relacional**
   - Archivo: `MODELO_RELACIONAL.md` o similar
   - Contenido: Esquema de tablas, campos, tipos de datos, claves primarias/foráneas, índices

4. **Manual de Instalación**
   - Archivo: `MANUAL_INSTALACION.md`
   - Contenido:
     - Requisitos del sistema
     - Instalación de dependencias (Java, Node.js, PostgreSQL, etc.)
     - Configuración del backend (application.properties, variables de entorno)
     - Configuración del frontend (archivos de configuración)
     - Configuración de la base de datos (creación de esquemas, TimescaleDB)
     - Despliegue en VPS
     - Configuración del ESP32

5. **Manual de Usuario**
   - Archivo: `MANUAL_USUARIO.md`
   - Contenido:
     - Introducción al sistema
     - Acceso y login
     - Funcionalidades por rol (Admin, Profesor, Estudiante, Invitado)
     - Guía paso a paso para cada funcionalidad
     - Capturas de pantalla
     - Resolución de problemas comunes
     - FAQ

---

**Fecha de creación**: 2025-11-15
**Última actualización**: 2025-11-15
**Versión del documento**: 2.0
**Estado**: En desarrollo

**Cambios en v2.0**:
- Añadida relación N:M (Usuarios ↔ Centros) con endpoints específicos
- Especificación detallada de ventanas React (8 ventanas)
- Especificación detallada de actividades Android (5 actividades)
- Nueva sección de Requisitos Académicos por Módulo (PGV, DAD, AED, PGL)
- Referencias a documentación adicional independiente (E/R, UML, Manuales)
